<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>php Builder pattern in laravel | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="php Builder pattern in laravel原文地址http://learninglaravel.net/understanding-design-patterns-in-laravel/link绝对的干货呀@__@直接上代码1234567891011121314151617181920212223242526272829303132&amp;lt;?phpclass Product &amp;#">
<meta property="og:type" content="article">
<meta property="og:title" content="php Builder pattern in laravel">
<meta property="og:url" content="http://yoursite.com/2015/09/08/php-Builder-pattern-in-laravel/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="php Builder pattern in laravel原文地址http://learninglaravel.net/understanding-design-patterns-in-laravel/link绝对的干货呀@__@直接上代码1234567891011121314151617181920212223242526272829303132&amp;lt;?phpclass Product &amp;#">
<meta property="og:updated_time" content="2016-09-08T09:02:07.480Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="php Builder pattern in laravel">
<meta name="twitter:description" content="php Builder pattern in laravel原文地址http://learninglaravel.net/understanding-design-patterns-in-laravel/link绝对的干货呀@__@直接上代码1234567891011121314151617181920212223242526272829303132&amp;lt;?phpclass Product &amp;#">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="0" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Jiang Jin</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="/jinjiang2009@126.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/php-laravel/" style="font-size: 20px;">php-laravel</a> <a href="/tags/服务器/" style="font-size: 10px;">服务器</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Jiang Jin</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="0" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Jiang Jin</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="/jinjiang2009@126.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-php-Builder-pattern-in-laravel" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/08/php-Builder-pattern-in-laravel/" class="article-date">
  	<time datetime="2015-09-07T16:00:00.000Z" itemprop="datePublished">2015-09-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      php Builder pattern in laravel
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php-laravel/">php-laravel</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="php-Builder-pattern-in-laravel"><a href="#php-Builder-pattern-in-laravel" class="headerlink" title="php Builder pattern in laravel"></a>php Builder pattern in laravel</h2><p><a href="http://learninglaravel.net/understanding-design-patterns-in-laravel/link" target="_blank" rel="external">原文地址http://learninglaravel.net/understanding-design-patterns-in-laravel/link</a><br>绝对的干货呀@__@<br>直接上代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">class Product &#123; // 产品本身</div><div class="line">    private $_parts;</div><div class="line">    public function __construct() &#123; $this-&gt;_parts = array(); &#125;</div><div class="line">    public function add($part) &#123; return array_push($this-&gt;_parts, $part); &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">abstract class Builder &#123; // 建造者抽象类</div><div class="line">    public abstract function buildPart1();</div><div class="line">    public abstract function buildPart2();</div><div class="line">    public abstract function getResult();</div><div class="line">&#125;</div><div class="line"></div><div class="line">class ConcreteBuilder extends Builder &#123; // 具体建造者</div><div class="line">    private $_product;</div><div class="line">    public function __construct() &#123; $this-&gt;_product = new Product(); &#125;</div><div class="line">    public function buildPart1() &#123; $this-&gt;_product-&gt;add(&quot;Part1&quot;); &#125;</div><div class="line">    public function buildPart2() &#123; $this-&gt;_product-&gt;add(&quot;Part2&quot;); &#125;</div><div class="line">    public function getResult() &#123; return $this-&gt;_product; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class Director &#123;</div><div class="line">    public function __construct(Builder $builder) &#123;</div><div class="line">        $builder-&gt;buildPart1();</div><div class="line">        $builder-&gt;buildPart2();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">// client</div><div class="line">$buidler = new ConcreteBuilder();</div><div class="line">$director = new Director($buidler);</div><div class="line">$product = $buidler-&gt;getResult();</div><div class="line">?&gt;</div></pre></td></tr></table></figure></p>
<p>In Laravel, the AuthManager class needs to create some secure elements to reuse with selected auth storage drivers such as cookie, session, or custom elements. To achieve this, the AuthManager class needs to use storage functions such as callCustomCreator() and getDrivers() from theManager class.</p>
<p>Let’s see how the Builder (Manager) pattern is used in Laravel. To see what happens in this pattern, navigate to the vendor/Illuminate/Support/Manager.php andvendor/Illuminate/Auth/AuthManager.php files, as shown in the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">public function driver($driver = null)</div><div class="line"> &#123;</div><div class="line">    ...</div><div class="line"></div><div class="line"> &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"> protected function createDriver($driver)</div><div class="line"> &#123;</div><div class="line">    $method = &apos;create&apos;.ucfirst($driver).&apos;Driver&apos;;</div><div class="line"></div><div class="line">    ...</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> protected function callCustomCreator($driver)</div><div class="line"> &#123;</div><div class="line">    return $this-&gt;customCreators[$driver]($this-&gt;app);</div><div class="line"> &#125;</div><div class="line"></div><div class="line"></div><div class="line"> public function extend($driver, Closure $callback)</div><div class="line"> &#123;</div><div class="line">    $this-&gt;customCreators[$driver] = $callback;</div><div class="line"></div><div class="line">    return $this;</div><div class="line"> &#125;</div><div class="line"> public function getDrivers()</div><div class="line"> &#123;</div><div class="line">    return $this-&gt;drivers;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"></div><div class="line"> public function __call($method, $parameters)</div><div class="line"> &#123;</div><div class="line">    return call_user_func_array(array($this-&gt;driver(), $method), $parameters);</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>Now, navigate to the /vendor/Illuminate/Auth/AuthManager.php file, as shown in the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line">protected function createDriver($driver)</div><div class="line">   &#123;</div><div class="line"></div><div class="line"></div><div class="line">      ....</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   protected function callCustomCreator($driver)</div><div class="line">   &#123;</div><div class="line"></div><div class="line"></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   public function createDatabaseDriver()</div><div class="line">   &#123;</div><div class="line"></div><div class="line"></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   protected function createDatabaseProvider()</div><div class="line">   &#123;</div><div class="line"></div><div class="line"></div><div class="line">      ....</div><div class="line">   &#125;</div><div class="line"></div><div class="line"></div><div class="line">   public function createEloquentDriver()</div><div class="line">   &#123;</div><div class="line">      ...</div><div class="line"></div><div class="line"></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   protected function createEloquentProvider()</div><div class="line">   &#123;</div><div class="line">      ...</div><div class="line"></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   public function getDefaultDriver()</div><div class="line">   &#123;</div><div class="line">      ...</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   public function setDefaultDriver($name)</div><div class="line">   &#123;</div><div class="line">      ...</div><div class="line">   &#125;</div><div class="line">   /**</div><div class="line">	 * Create an instance of the database driver.</div><div class="line">	 *</div><div class="line">	 * @return \Illuminate\Auth\Guard</div><div class="line">	 */</div><div class="line">	public function createDatabaseDriver()</div><div class="line">	&#123;</div><div class="line">		$provider = $this-&gt;createDatabaseProvider();</div><div class="line"></div><div class="line">		return new Guard($provider, $this-&gt;app[&apos;session.store&apos;]);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Create an instance of the database user provider.</div><div class="line">	 *</div><div class="line">	 * @return \Illuminate\Auth\DatabaseUserProvider</div><div class="line">	 */</div><div class="line">	protected function createDatabaseProvider()</div><div class="line">	&#123;</div><div class="line">		$connection = $this-&gt;app[&apos;db&apos;]-&gt;connection();</div><div class="line"></div><div class="line">		// When using the basic database user provider, we need to inject the table we</div><div class="line">		// want to use, since this is not an Eloquent model we will have no way to</div><div class="line">		// know without telling the provider, so we&apos;ll inject the config value.</div><div class="line">		$table = $this-&gt;app[&apos;config&apos;][&apos;auth.table&apos;];</div><div class="line"></div><div class="line">		return new DatabaseUserProvider($connection, $this-&gt;app[&apos;hash&apos;], $table);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Create an instance of the Eloquent driver.</div><div class="line">	 *</div><div class="line">	 * @return \Illuminate\Auth\Guard</div><div class="line">	 */</div><div class="line">	public function createEloquentDriver()</div><div class="line">	&#123;</div><div class="line">		$provider = $this-&gt;createEloquentProvider();</div><div class="line"></div><div class="line">		return new Guard($provider, $this-&gt;app[&apos;session.store&apos;]);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Create an instance of the Eloquent user provider.</div><div class="line">	 *</div><div class="line">	 * @return \Illuminate\Auth\EloquentUserProvider</div><div class="line">	 */</div><div class="line">	protected function createEloquentProvider()</div><div class="line">	&#123;</div><div class="line">		$model = $this-&gt;app[&apos;config&apos;][&apos;auth.model&apos;];</div><div class="line"></div><div class="line">		return new EloquentUserProvider($this-&gt;app[&apos;hash&apos;], $model);</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<h3 id="下面说说我的理解"><a href="#下面说说我的理解" class="headerlink" title="下面说说我的理解:"></a>下面说说我的理解:</h3><ol>
<li>abstract manager为 vendor/Illuminate/Support/Manager.php,定义抽象接口,</li>
<li><p>/vendor/Illuminate/Auth/AuthManager.php 继承abstarct manager 定义了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">    /**</div><div class="line"> * Create an instance of the database driver.</div><div class="line"> *</div><div class="line"> * @return \Illuminate\Auth\Guard</div><div class="line"> */</div><div class="line">public function createDatabaseDriver()</div><div class="line">&#123;</div><div class="line">	$provider = $this-&gt;createDatabaseProvider();</div><div class="line"></div><div class="line">	return new Guard($provider, $this-&gt;app[&apos;session.store&apos;]);</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Create an instance of the database user provider.</div><div class="line"> *</div><div class="line"> * @return \Illuminate\Auth\DatabaseUserProvider</div><div class="line"> */</div><div class="line">protected function createDatabaseProvider()</div><div class="line">&#123;</div><div class="line">	$connection = $this-&gt;app[&apos;db&apos;]-&gt;connection();</div><div class="line"></div><div class="line">	// When using the basic database user provider, we need to inject the table we</div><div class="line">	// want to use, since this is not an Eloquent model we will have no way to</div><div class="line">	// know without telling the provider, so we&apos;ll inject the config value.</div><div class="line">	$table = $this-&gt;app[&apos;config&apos;][&apos;auth.table&apos;];</div><div class="line"></div><div class="line">	return new DatabaseUserProvider($connection, $this-&gt;app[&apos;hash&apos;], $table);</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Create an instance of the Eloquent driver.</div><div class="line"> *</div><div class="line"> * @return \Illuminate\Auth\Guard</div><div class="line"> */</div><div class="line">public function createEloquentDriver()</div><div class="line">&#123;</div><div class="line">	$provider = $this-&gt;createEloquentProvider();</div><div class="line"></div><div class="line">	return new Guard($provider, $this-&gt;app[&apos;session.store&apos;]);</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Create an instance of the Eloquent user provider.</div><div class="line"> *</div><div class="line"> * @return \Illuminate\Auth\EloquentUserProvider</div><div class="line"> */</div><div class="line">protected function createEloquentProvider()</div><div class="line">&#123;</div><div class="line">	$model = $this-&gt;app[&apos;config&apos;][&apos;auth.model&apos;];</div><div class="line"></div><div class="line">	return new EloquentUserProvider($this-&gt;app[&apos;hash&apos;], $model);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>/vendor/Illuminate/Auth/下的DatabaseUserProvider,ElquentUserProvider为具体的product实施者,都实现了<br>Illuminate\Contracts\Auth;契约中的UserProvider</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"> interface UserProvider &#123;</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Retrieve a user by their unique identifier.</div><div class="line">	 *</div><div class="line">	 * @param  mixed  $identifier</div><div class="line">	 * @return \Illuminate\Contracts\Auth\Authenticatable|null</div><div class="line">	 */</div><div class="line">	public function retrieveById($identifier);</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Retrieve a user by by their unique identifier and &quot;remember me&quot; token.</div><div class="line">	 *</div><div class="line">	 * @param  mixed   $identifier</div><div class="line">	 * @param  string  $token</div><div class="line">	 * @return \Illuminate\Contracts\Auth\Authenticatable|null</div><div class="line">	 */</div><div class="line">	public function retrieveByToken($identifier, $token);</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Update the &quot;remember me&quot; token for the given user in storage.</div><div class="line">	 *</div><div class="line">	 * @param  \Illuminate\Contracts\Auth\Authenticatable  $user</div><div class="line">	 * @param  string  $token</div><div class="line">	 * @return void</div><div class="line">	 */</div><div class="line">	public function updateRememberToken(Authenticatable $user, $token);</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Retrieve a user by the given credentials.</div><div class="line">	 *</div><div class="line">	 * @param  array  $credentials</div><div class="line">	 * @return \Illuminate\Contracts\Auth\Authenticatable|null</div><div class="line">	 */</div><div class="line">	public function retrieveByCredentials(array $credentials);</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * Validate a user against the given credentials.</div><div class="line">	 *</div><div class="line">	 * @param  \Illuminate\Contracts\Auth\Authenticatable  $user</div><div class="line">	 * @param  array  $credentials</div><div class="line">	 * @return bool</div><div class="line">	 */</div><div class="line">	public function validateCredentials(Authenticatable $user, array $credentials);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4.用户可以自定义自己的dirver去实现此接口.也正是这种模式的意义所在</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/08/php-constant-hash/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          php constant hash
        
      </div>
    </a>
  
  
    <a href="/2014/05/08/LNMP环境的一些安全知识/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">LNMP环境的一些安全知识</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="php-Builder-pattern-in-laravel" data-title="php Builder pattern in laravel" data-url="http://yoursite.com/2015/09/08/php-Builder-pattern-in-laravel/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Jiang Jin
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: /
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>